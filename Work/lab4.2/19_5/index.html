<!doctype html>
<!--
To be used in exercises. 

NOTE ON ABSOLUTE POSITIONING: When an element has position:absolute, you can place 
anywhere on the page you want. You can specify a pixel position of the top, left
corner using the top and left CSS properties. If the element is a child of
<body> this will position it relative to the top left corner of the page.

If an element with absolute position is inside another element with absolute
position (as the "moveme" div is below) you specify top and left to move it 
relative to the top left corner of the containing element. So for this element,
top: 0px and left: 0px puts it in the top left corner of the "container" div.

-->
<html>
  <head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      #container {
        position: absolute;
        top: 50px;
        left: 50px;
        width: 500px;
        height: 500px;
        border: 10px solid black;
        border-radius: 70px;
      }
      #moveme {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100px;
        height: 100px;
        background-color: green;
        border-radius: 100px;
        border: 10px solid black;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <div id="moveme"></div>
    </div>

    <script>
      // Global variables to track circle position
      let currentX = 0;
      let currentY = 0;
      const MAX_POSITION = 400; // 500px container - 100px circle = max 400px
      const MIN_POSITION = 0;
      const MOVE_DISTANCE = 20;

      function confirmBox() {
        let confirmResult = confirm(
          "Click OK to move the green circle to a new random location within the black square.",
        );

        if (confirmResult == false) {
          return;
        }

        currentX = Math.floor(Math.random() * 401);
        currentY = Math.floor(Math.random() * 401);

        document.getElementById("moveme").style.top = currentX + "px";
        document.getElementById("moveme").style.left = currentY + "px";
      }

      function promptBox() {
        let userInput = prompt(
          "Enter 'U' to move up, 'D' to move down, 'L' to move left, 'R' to move right, or 'Q' to quit",
        );

        // Handle quit or cancel
        if (userInput === "Q" || userInput === null) {
          return;
        }

        let newX = currentX;
        let newY = currentY;

        // Calculate new position based on input
        if (userInput === "U") {
          newX = currentX - MOVE_DISTANCE;
        } else if (userInput === "D") {
          newX = currentX + MOVE_DISTANCE;
        } else if (userInput === "L") {
          newY = currentY - MOVE_DISTANCE;
        } else if (userInput === "R") {
          newY = currentY + MOVE_DISTANCE;
        } else {
          alert("Invalid input. Enter U, D, L, R, or Q");
          return;
        }

        // Check boundaries and prevent out of bounds movement
        if (newX < MIN_POSITION) {
          alert("Cannot move up - would go out of bounds!");
          return;
        } else if (newX > MAX_POSITION) {
          alert("Cannot move down - would go out of bounds!");
          return;
        }

        if (newY < MIN_POSITION) {
          alert("Cannot move left - would go out of bounds!");
          return;
        } else if (newY > MAX_POSITION) {
          alert("Cannot move right - would go out of bounds!");
          return;
        }

        // Update position and move circle
        currentX = newX;
        currentY = newY;

        document.getElementById("moveme").style.top = currentX + "px";
        document.getElementById("moveme").style.left = currentY + "px";
      }
    </script>
  </body>
</html>
