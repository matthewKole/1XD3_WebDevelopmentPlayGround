<!doctype html>
<!--
Finish this program by filling in JavaScript that checks if the user’s answer to 
the addition question is correct, and then display “Correct” or “Incorrect” on the 
web page by changing the innerHTML of the <h1> element.

Sam Scott, McMaster University, 2025
-->
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>addition</title>

    <style>
      .error {
        border: 10px solid black;
        width: fit-content;
        background-color: red;
        padding: 20px;
      }
    </style>
  </head>

  <body>
    <h1 id="result"></h1>
    <p id="question"></p>
    <input id="answerInput" placeholder="Enter your answer" />
    <button onclick="addition()">Submit</button>

    <script type="text/javascript">
      let op1, op2;

      function generateQuestion() {
        op1 = Math.floor(Math.random() * 200 - 100);
        op2 = Math.floor(Math.random() * 200 - 100);
        document.getElementById("question").innerHTML =
          "What is " + op1 + " + " + op2 + "?";
      }

      function addition() {
        let answer = document.getElementById("answerInput").value;
        let resultElement = document.getElementById("result");

        if (answer === "" || isNaN(answer)) {
          resultElement.innerHTML = "Please enter a valid number";
          resultElement.classList.add("error");
          return;
        }

        let correctAnswer = op1 + op2;

        resultElement.classList.remove("error");

        if (answer == correctAnswer) {
          resultElement.innerHTML = "Correct";
          resultElement.style.color = "darkgreen";
          document.getElementById("answerInput").style.backgroundColor =
            "lightgreen";
        } else {
          resultElement.innerHTML = "Incorrect";
          resultElement.style.color = "darkred";
          document.getElementById("answerInput").style.backgroundColor = "red";
        }

        // Clear input and generate new question
        document.getElementById("answerInput").value = "";
        generateQuestion();
      }

      generateQuestion();
    </script>
  </body>
</html>
